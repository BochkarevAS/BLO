{% extends 'base.html.twig' %}

{% block stylesheets %}
    {{ parent() }}

    <link href="{{ asset('build/css/tyres/show_tyres.css') }}" rel="stylesheet" />
    <link href="{{ asset('build/js/appFancybox.css') }}" rel="stylesheet" />
{% endblock %}

{% block body %}

    <div class="container js-tyres-show-module">

        <p class="imglist" style="max-width: 520px;">
            <a data-trigger="preview" href="javascript:;">
                <img src="https://source.unsplash.com/LuK-MuZ-yf0/510x340" />
            </a>

            <a href="https://source.unsplash.com/LuK-MuZ-yf0/1500x1000" data-fancybox="preview" data-width="1500" data-height="1000">
                <img src="https://source.unsplash.com/LuK-MuZ-yf0/120x80" />
            </a>

            <a href="https://source.unsplash.com/Oaqk7qqNh_c/1500x1000" data-fancybox="preview" data-width="1500" data-height="1000">
                <img src="https://source.unsplash.com/Oaqk7qqNh_c/120x80" />
            </a>

            <a href="https://source.unsplash.com/X9GHkHbJIaU/1500x1000" data-fancybox="preview" data-width="1500" data-height="1000">
                <img src="https://source.unsplash.com/X9GHkHbJIaU/120x80" />
            </a>

            <a href="https://source.unsplash.com/9c_djeQTDyY/1500x1000" data-fancybox="preview" data-width="1500" data-height="1000">
                <img src="https://source.unsplash.com/9c_djeQTDyY/120x80" />
            </a>
        </p>

        {% set pictures = tyre.picture|json_decode %}

        <div class="row">
            {#<div class="col-5">#}
                {#{% for picture in pictures %}#}
                    {#<div class="col-2">#}
                        {#<img id="tyres_img" src="{{ picture }}">#}
                    {#</div>#}
                {#{% endfor %}#}
            {#</div>#}

            <div class="col-4">
                <div class="row">
                    <ul class="oglavl">
                        {% if tyre.brand %}
                            <li>
                                <span class="text">Производитель</span>
                                <span class="page">{{ tyre.brand.name }}</span>
                            </li>
                        {% endif %}
                        {% if tyre.model %}
                            <li>
                                <span class="text">Модель</span>
                                <span class="page">{{ tyre.model.name }}</span>
                            </li>
                        {% endif %}
                        {% if tyre.seasonality %}
                            <li>
                                <span class="text">Сезонность</span>
                                <span class="page">{{ tyre.seasonality.name }}</span>
                            </li>
                        {% endif %}
                        {% if tyre.width %}
                            <li>
                                <span class="text">Ширина</span>
                                <span class="page">{{ tyre.width }}</span>
                            </li>
                        {% endif %}
                        {% if tyre.height %}
                            <li>
                                <span class="text">Высота</span>
                                <span class="page">{{ tyre.height }}</span>
                            </li>
                        {% endif %}
                        {% if tyre.diameter %}
                            <li>
                                <span class="text">Диаметор</span>
                                <span class="page">{{ tyre.diameter }}</span>
                            </li>
                        {% endif %}
                        {% if tyre.price %}
                            <li>
                                <span class="text">Цена</span>
                                <span class="page">{{ tyre.price }} руб. за 1 шт.</span>
                            </li>
                        {% endif %}
                    </ul>
                </div>
                <div class="row text-center">
                    {% if tyre.availability %}
                        <span class="tyre_availability_name">{{ tyre.availability.name }}</span>
                    {% endif %}
                </div>
                <div class="row">
                    <h4>Карточка продовца</h4>
                    <div class="card" id="tyres_card">
                        <img id="tyres_img_card" src="/images/{{ company.logotype }}">
                        <div class="card-body">
                            <h4 class="card-title">Информация от продавца</h4>
                            <p class="card-text">
                                {{ company.preview }}
                            </p>
                        </div>
                        <ul class="list-group list-group-flush">
                            {% for phone in company.phones %}
                                <li class="list-group-item">{{ phone }}</li>
                            {% endfor %}
                        </ul>
                        <ul class="list-group list-group-flush">
                            {% for email in company.emails %}
                                <li class="list-group-item">{{ email }}</li>
                            {% endfor %}
                        </ul>
                        <div id="company_map"></div>
                        <div class="card-body">
                            <h4 class="card-title">Адрес</h4>
                            <p class="card-text" id="company_address_coordinate" data-address="{{ company.address }}" data-coordinate="{{ company.coordinate }}">
                                г. {{ company.city }}, {{ company.address }}
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

{% endblock %}

{% block javascripts %}
    {{ parent() }}

    <script async defer src="http://maps.google.com/maps/api/js?sensor=false&key=AIzaSyCpBhRQ6bMk1Xzx6Ik1b6lqPytOf8XBm1A"></script>
    <script src="{{ asset('build/js/appMap.js') }}"></script>
    <script src="{{ asset('build/js/appFancybox.js') }}"></script>
{% endblock %}